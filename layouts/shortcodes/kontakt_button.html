
{{ $href := "" }}
{{ $type := .Get ( "type" ) }}
{{ $icon := .Get ( "type" ) }}
{{ $text := "" }}
{{ $target := "_blank" }}
{{ $title := "" }}
{{ $hiddenmail := "" }}
{{ $protocol := "mailto" }}
{{ $query := "" }}
{{ $link_icon := "" }}

{{- with .Get ( "href" ) -}}{{ $href = . }}{{- end -}}
{{- with .Get ( "icon" ) -}}{{ $icon = . }}{{- end -}}
{{- with .Get ( "text" ) -}}{{ $text = . }}{{- end -}}
{{- with .Get ( "target" ) -}}{{ $target = . }}{{- end -}}
{{- with .Get ( "title" ) -}}{{ $title = . }}{{- end -}}
{{- with .Get ( "protocol" ) -}}{{ $protocol = . }}{{- end -}}

<a
  class="link link-{{ $type }}"
  href="{{ $href }}"
  target="{{ $target }}"
  {{ with $title }}title="{{ . }}"{{ end }}
  rel="me noopener noreferrer"
>
  {{- with $icon -}}
    <span class='icon-mr1'>{{ partial "icon.html" . }}</span>
  {{- end -}}
  {{ $text | emojify }}
</a>